{% extends "base.html" %}
{% block content %}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

<style>
  .form-label-date {
    margin-bottom: 0;
    padding-top: 0.375rem;
    padding-bottom: 0.375rem;
  }
</style>

<div class="container py-5">
  <div class="card shadow-lg border-0 rounded-4 overflow-hidden">
    <div class="card-header bg-primary text-white p-4 text-center">
      <h2 class="mb-0 fw-bold">Cadastro do Voluntário</h2>
      <p class="mb-0 fs-5">Etapa 1: Dados Pessoais</p>
    </div>

    <div class="card-body p-4 p-md-5">
      <form action="{{ url_for('voluntarios.add_voluntario_1') }}" method="POST">
        <fieldset class="mb-4 text-center">
          <legend class="form-label fs-5 fw-semibold me-3">Unidade:</legend>
          <div class="btn-group shadow-sm" role="group" aria-label="Seleção de Unidade">
            <input type="radio" class="btn-check" name="tipo" id="hmc" value="hmc" required>
            <label class="btn btn-outline-primary px-4 py-2" for="hmc">HMC</label>

            <input type="radio" class="btn-check" name="tipo" id="huc" value="huc">
            <label class="btn btn-outline-primary px-4 py-2" for="huc">HUC</label>
          </div>
        </fieldset>
        <h4 class="text-secondary mb-4 border-bottom pb-2">
          <i class="bi bi-person-lines-fill me-2"></i>
          Informações Pessoais
        </h4>

        <div class="row g-4">
          <div class="col-md-6">
            <div class="form-floating">
              <input type="text" class="form-control" id="floatingNome" name="nome" placeholder="Digite seu nome completo" required>
              <label for="floatingNome">Nome completo</label>
            </div>
          </div>
          <div class="col-md-3">
            <label for="dataNascimento" class="form-label form-label-date">Data de nascimento</label>
            <input type="date" class="form-control" id="dataNascimento" name="dataNascimento" required>
          </div>
          
          <div class="col-md-3">
            <div class="form-floating">
              <input type="text" class="form-control" id="floatingLocalNascimento" name="localNascimento" placeholder="Cidade / Estado">
              <label for="floatingLocalNascimento">Local de nascimento</label>
            </div>
          </div>

          <div class="col-md-3">
            <div class="form-floating">
              <input type="text" class="form-control" id="floatingRG" name="rg" placeholder="Digite seu RG">
              <label for="floatingRG">RG</label>
            </div>
          </div>

          <div class="col-md-3">
            <div class="form-floating">
              <input type="text" class="form-control" id="floatingCPF" name="cpf" placeholder="Digite seu CPF">
              <label for="floatingCPF">CPF</label>
            </div>
          </div>

          <div class="col-md-3">
            <div class="form-floating">
              <input type="text" class="form-control" id="floatingEstadoCivil" name="estadoCivil" placeholder="Solteiro, Casado, etc.">
              <label for="floatingEstadoCivil">Estado civil</label>
            </div>
          </div>

          <div class="col-md-3">
            <div class="form-floating">
              <input type="text" class="form-control" id="floatingConjuge" name="nomeConjugue" placeholder="Nome do cônjuge">
              <label for="floatingConjuge">Nome do cônjuge</label>
            </div>
          </div>

          <div class="col-md-6">
            <div class="form-floating">
              <input type="text" class="form-control" id="floatingPai" name="nomePai" placeholder="Nome do pai">
              <label for="floatingPai">Nome do pai</label>
            </div>
          </div>

          <div class="col-md-6">
            <div class="form-floating">
              <input type="text" class="form-control" id="floatingMae" name="nomeMae" placeholder="Nome da mãe">
              <label for="floatingMae">Nome da mãe</label>
            </div>
          </div>

          <div class="col-md-8">
            <div class="form-floating">
              <input type="text" class="form-control" id="floatingEndereco" name="enderecoResidencial" placeholder="Rua, número, bairro">
              <label for="floatingEndereco">Endereço residencial</label>
            </div>
          </div>

          <div class="col-md-2">
            <div class="form-floating">
              <input type="text" class="form-control" id="floatingCEP" name="cep" placeholder="CEP">
              <label for="floatingCEP">CEP</label>
            </div>
          </div>

          <div class="col-md-2">
            <div class="form-floating">
              <input type="text" class="form-control" id="floatingCelular" name="celular" placeholder="Celular">
              <label for="floatingCelular">Celular</label>
            </div>
          </div>

          <div class="col-md-4">
            <div class="form-floating">
              <input type="text" class="form-control" id="floatingReligiao" name="religiao" placeholder="Religião">
              <label for="floatingReligiao">Religião</label>
            </div>
          </div>

          <div class="col-md-4">
            <div class="form-floating">
              <input type="email" class="form-control" id="floatingEmail" name="email" placeholder="email@exemplo.com">
              <label for="floatingEmail">E-mail</label>
            </div>
          </div>

          <div class="col-md-4">
            <div class="form-floating">
              <input type="text" class="form-control" id="floatingEscolaridade" name="escolaridade" placeholder="Escolaridade / Curso">
              <label for="floatingEscolaridade">Escolaridade / Curso</label>
            </div>
          </div>

          <div class="col-md-6">
            <div class="form-floating">
              <input type="text" class="form-control" id="floatingTrabalho" name="localTrabalho" placeholder="Local de trabalho">
              <label for="floatingTrabalho">Local de trabalho</label>
            </div>
          </div>
          <div class="col-md-6">
            <div class="border rounded-3 p-3 h-100">
              <label class="form-label fw-semibold d-block mb-2">Ocupação</label>
              <div class="d-flex flex-wrap gap-3 align-items-center">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="ocupacao" id="ocup_aposentado" value="aposentado" onclick="toggleOutro(false)">
                  <label class="form-check-label" for="ocup_aposentado">Aposentado</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="ocupacao" id="ocup_empregado" value="empregado" onclick="toggleOutro(false)">
                  <label class="form-check-label" for="ocup_empregado">Empregado</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="ocupacao" id="ocup_autonomo" value="autonomo" onclick="toggleOutro(false)">
                  <label class="form-check-label" for="ocup_autonomo">Autônomo</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="ocupacao" id="ocup_doLar" value="doLar" onclick="toggleOutro(false)">
                  <label class="form-check-label" for="ocup_doLar">Do lar</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="ocupacao" id="ocup_outro" value="outro" onclick="toggleOutro(true)">
                  <label class="form-check-label" for="ocup_outro">Outro:</label>
                </div>
                <input type="text" class="form-control flex-grow-1" style="min-width: 150px;" name="ocupacao_outro" id="ocupacao_outro" disabled>
              </div>
            </div>
          </div>
          <div class="col-md-6">
             <div class="border rounded-3 p-3 h-100">
              <label class="form-label fw-semibold">Fez tratamento médico?</label>
              <div class="d-flex flex-wrap gap-3 align-items-center mt-2">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="tratamento" id="trat_nao" value="naoTratamento" onclick="toggleTratamento(false)">
                  <label class="form-check-label" for="trat_nao">Não</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="tratamento" id="trat_sim" value="simTratamento" onclick="toggleTratamento(true)">
                  <label class="form-check-label" for="trat_sim">Sim</label>
                </div>
                <input type="text" class="form-control flex-grow-1" style="min-width: 200px;" name="tratamento_outro" id="tratamento_outro" placeholder="Para quê?" disabled>
              </div>
            </div>
          </div>

          <div class="col-md-6">
            <div class="form-floating">
              <input type="text" class="form-control" id="floatingTransporte" name="tipoTransporte" placeholder="Transporte utilizado">
              <label for="floatingTransporte">Transporte utilizado até o hospital</label>
            </div>
          </div>
          
          <div class="col-12">
            <div class="form-floating">
              <input type="text" class="form-control" id="floatingComoFicouSabendo" name="comoFicouSabendo" placeholder="Como ficou sabendo?">
              <label for="floatingComoFicouSabendo">Como ficou sabendo do voluntariado?</label>
            </div>
          </div>
        </div>
        <div class="text-center mt-5 pt-4 border-top">
          <button type="submit" class="btn btn-primary btn-lg px-5 py-3 shadow-sm">
            Próxima Etapa
            <i class="bi bi-arrow-right-circle ms-2"></i>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>


<script>
function toggleOutro(ativo){
  const campoOutro = document.getElementById("ocupacao_outro");
  campoOutro.disabled = !ativo;
  if (!ativo) {
    campoOutro.value = "";
  } else {
    campoOutro.focus();
  }
}
function toggleTratamento(ativo){
  const tratamentoOutro = document.getElementById("tratamento_outro");
  tratamentoOutro.disabled = !ativo;
  if (!ativo) {
    tratamentoOutro.value = "";
  } else {
    tratamentoOutro.focus();
  }
}
</script>

{% endblock %}