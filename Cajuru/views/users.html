<!--sensors.html -->
{% extends"base.html" %}
{% block content%}

{% for message in get_flashed_messages() %}



<div class="alert alert-danger alert-dismissible fade show w-80 p-3" style="width: 420px; margin-left: 500px; margin-top: 30px; text-align: center;" role="alert">
  {{ message }}
</div>

{% endfor %}

<div class="vertical-center">
  <div class="container view">
    <div class="justify-content-center">
      {% if users|length> 0 %}
      <table id="view_users" class="table table-striped table-bordered" style="width:100%">
        <p>Usuários:</p>
        <thead>
          <tr>
            <th>Email</th>
            <th>Função</th>
            <th>Editar</th>
            <th>Deletar</th>
          </tr>
        </thead>
        <tbody>
          {% for user in users%}
          <tr>
            <td>{{ user.email }}</td>
            <td>{{ user.role_name }}</td>
            <td><a href="http://localhost:8449/edit_user?email={{user.email}}">Editar</a></td>
            <td><a href="http://localhost:8449/del_user?email={{user.email}}">Deletar</a></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      <form action="http://localhost:8449/register_user">
        <p><input type="submit" value="Adicionar Usuário" /></p>
      </form>
      {% else %}
      <p>Ainda não usuários registrados!
      <p>
      <form action="http://localhost:8449/register_user">
        <p><input type="submit" value="Adicionar Usuário" /></p>
      </form>
      {% endif %}
    </div>
  </div>
</div>


{% endblock%}